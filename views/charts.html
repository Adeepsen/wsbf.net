<h1>Weekly Charts</h1>

<hr>

<div class="container-fluid" ng-controller="ChartCtrl">
	<div class="row">
		<div class="col-md-5">
			<span class="h3">{{date1 | date:'EEE MM/dd'}} - {{date2 | date:'EEE MM/dd'}}</span>
		</div>
		<div class="col-md-2">
			<select class="form-control" ng-model="count" ng-options="c for c in [10, 30, 50, 100]"></select>
		</div>
		<div class="col-md-5">
			<div class="pull-right">
				<button class="btn btn-sm" ng-click="getPrevWeek()">prev week</button>
				<button class="btn btn-sm" ng-click="getNextWeek()" ng-disabled="!hasNextWeek()">next week</button>
				<button class="btn btn-sm" ng-click="getCurrWeek()">current</button>
			</div>
		</div>
	</div>
	<br>

	<p><em>Charting includes albums currently in rotation played by DJs (not Automation).</em></p>

	<table class="table">
		<tr>
			<th></th>
			<th>Code</th>
			<th>Plays</th>
			<th>Artist</th>
			<th>Album</th>
			<th>Label</th>
			<th>Genre</th>
		</tr>

		<tr ng-repeat="a in albums | limitTo:count">
			<td class="text-right">{{$index + 1}}</td>
			<td class="text-right">{{a.lb_album_code}}</td>
			<td class="text-right">{{a.count}}</td>
			<td>{{a.lb_artist}}</td>
			<td>{{a.lb_album}}</td>
			<td>{{a.lb_label}}</td>
			<td>{{a.genre}}</td>
		</tr>
	</table>
</div>
